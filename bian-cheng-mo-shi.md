# 编程模式

这里会协定单据开发的编程模式，当遇到同一类问题时，优先按照已有编程模式解决问题。

## 使用继承定义具体单据

单据公共提供了 `Voucher` 和 `VoucherPresenter` 来允许具体单据进行继承。其中：

* Voucher 是 UI 管理组件，负责重写不同区域的 render 方法；
* VoucherPresenter 是 业务处理对象，其中包括了非常多的处理器；

## 使用生命周期控制单据流程

单据公共提供了生命周期来允许具体单据控制单据的流程。

比如你想在保存之前做额外处理，在适当的时候阻止保存，请使用 beforeSave；具体请参考 [生命周期](/chapter1/sheng-ming-zhou-qi.md)

## 数据驱动

单据公共使用`chanjet-nova/simple-form` 来管理单据数据实例, 所以单据数据本身是 `observable` 的。当UI需要变化时，优先使用单据数据进行驱动是一种比较好的方式。

## 命令优于API

单据公共常用的操作，都已经被定义成命令，可以直接通过 `CommandController` 执行，这样具体单据就不需要关心细节，部分功能命令和API的方式都会提供，但是优先使用命令模式来调用是更优雅的选择。





