## 一、确定使用的BO，进行单据设置

目前单据公共demo代码写的的BO是SalesOrder，对应子表是SalesOrderDetail

### 1、去开发工具里【BO工具】找到SalesOrder，选择它的VoucherModel菜单，进行第一次默认设置

![](https://sto.chanapp.chanjet.com/ecaf1c0b-3794-4a06-864a-17ce0d3245c3/2017/07/13/eda5976471d24fda8b652be6816014eb.png.big.png)

第一次进入一个新BO的界面，这个表格可能是空的。

请关注可以切换的页签【主表SalesOrder】【子表SalesOrderDetail】主表是一个单据的主体字段，子表目前最多2个

##### 【单据名称】

请关注页面左上角单据名称，这个输入框，每个页签都有，是设置单据在页面的显示的文案，主表子表都需要填写一下

##### 【增加子表】

在子表的页签里，上面还有一个复选框【在表体中】，选中等于设置在表体中加一个子表

##### 【增加字段】

如果下面的表格里没有数据，需要在右上角新增按钮中选择字段，如果选中的是外键字段（例如想添加往来单位的税率），并需要附加外键字段的属性到单据上，则先增加字段，在勾选【允许子属性】，再次点击右上角加号，该字段则可展开树形结构选择子属性

#### 在这个页面设置的数据会保存在app-server/metadata/setting/voucher/design/\*\*\*.json中，这个我们好生意系统对某个单据的默认设置

##### 【显示名称】

这列，需要特别说明，该列可编辑，默认来自于数据字典，如果勾选了该行的【自定义标题】，则更改的名称会同步在数据字典中，与报表查询字段名相同，否则不同步。

##### 【上下文字段】

上下文字段，是指不显示在单据公共控制范围内的字段，可能是个性化UI的，显示在表尾的，或者后端需要的字段

##### 【子表汇总】

只有数字类型的字段可以进行汇总，在单据设置的子表页面可以选择汇总维度，如果再选了按某个子表字段汇总，就会在单据页面子表的位置，显示出两个tab页，一个是正常的录入子表tab，另一个是汇总tab

##### 【单据设置生成的几个配置文件】

目前在Bo工具中生成的是设计态的文件，在app-server/metadata/setting/voucher/design文件夹下

在单据设置页面生成的运行态的文件，在app-server/metadata/setting/voucher文件夹下

第一次进入单据设置某个单据的时候，会从设计态生成一个运行态的json配置文件，点击单据设置的右上角按钮会重新生成配置文件

